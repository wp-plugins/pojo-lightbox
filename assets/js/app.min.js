/*! pojo-lightbox - v2.0.1 - 20-05-2015 */
!function(a,b,c,d){"use strict";var e={cache:{$document:a(c),$window:a(b)},cacheElements:function(){},buildElements:function(){},bindEvents:function(){switch(PojoLightboxOptions.script_type){case"prettyPhoto":this._bindEventsPrettyPhoto();break;case"magnific":this._bindEventsMagnificPopup();break;case"photoswipe":this._bindEventsPhotoSwipe()}},_bindEventsPrettyPhoto:function(){var b=Modernizr.mq("only screen and (max-width: 600px)");if("disable"!==PojoLightboxOptions.smartphone||!b){b&&(PojoLightboxOptions.lightbox_args.allow_expand=!1);var c,d=PojoLightboxOptions.lightbox_args;c=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body"),a("a",c).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).has("img").prettyPhoto(d),a('a[rel^="lightbox"]',c).prettyPhoto(PojoLightboxOptions.lightbox_args)}},_bindEventsMagnificPopup:function(){var b;b=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body"),a("a",b).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).filter(function(){return 0===a(this).closest("div.gallery").length}).has("img").magnificPopup({type:"image"}),a("div.gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})},_bindEventsPhotoSwipe:function(){var e,f=a(".pswp")[0],g=PojoLightboxOptions.lightbox_args,h=function(a){var b,c=a.data("size"),e=0,f=0,g="";d!==c&&(c=c.split("x"),e=c[0],f=c[1]);var h=a.closest(".gallery-item");return 1<=h.length&&(b=h.find(".wp-caption-text"),1<=b.length&&(g=b.text())),b=a.next(".wp-caption-text"),1<=b.length&&(g=b.text()),{src:a.attr("href"),w:e,h:f,title:g,el:a[0]}},i=function(a,e){var f=e[a].el.children[0];if(d===f)return null;var g=b.pageYOffset||c.documentElement.scrollTop,h=f.getBoundingClientRect();return{x:h.left,y:h.top+g,w:h.width}};e=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body");var j=a("a",e).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).filter(function(){return 0===a(this).closest("div.gallery").length}).has("img");j.on("click",function(b){b.preventDefault();var c=[h(a(this))],d={getThumbBoundsFn:function(a){return i(a,c)}};d=a.extend({},g,d);var e=new PhotoSwipe(f,PhotoSwipeUI_Default,c,d);e.listen("gettingData",function(a,b){if(b.w<1||b.h<1){var c=new Image;c.onload=function(){b.w=this.width,b.h=this.height,e.invalidateCurrItems(),e.updateSize(!0)},c.src=b.src}}),e.init()}),a("div.gallery, div.pojo-gallery").each(function(){var b=a(this),c=function(){var c=[];return b.find("a").each(function(){c.push(h(a(this)))}),c},d=c();b.on("click","a",function(c){c.preventDefault();var e={index:b.find("a").index(this),getThumbBoundsFn:function(a){return i(a,d)}};e=a.extend({},g,e);var h=new PhotoSwipe(f,PhotoSwipeUI_Default,d,e);h.listen("gettingData",function(a,b){if(b.w<1||b.h<1){var c=new Image;c.onload=function(){b.w=this.width,b.h=this.height,h.invalidateCurrItems(),h.updateSize(!0)},c.src=b.src}}),h.init()})})},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents()}};a(c).ready(function(a){e.init()})}(jQuery,window,document);